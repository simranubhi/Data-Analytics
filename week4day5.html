<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Week 4 - Day 5</title>
  <style>
    body { font-family: Arial, sans-serif; background-color: #fdfdfd; color: #333; line-height: 1.6; max-width: 900px; margin: auto; padding: 40px 20px; }
    h1, h2, h3 { color: #2c3e50; text-align: left; }
    pre { background: #f4f4f4; padding: 10px; border-left: 4px solid #3498db; overflow-x: auto; }
    .concept-box { background-color: #e0f7fa; border-left: 5px solid #00796b; padding: 10px 20px; margin: 20px 0; }
    p { margin-bottom: 10px; }
  </style>
</head>
<body>
  <h1>Week 4 - Day 5</h1>
  <h2>Data Integration, Merging & Advanced Data Manipulation in R</h2>

  <div class="concept-box">
    <strong>Concepts Covered:</strong><br>
    Merging datasets, joins (inner, left, right, full), dplyr verbs, group_by & summarise, data reshaping (pivot), advanced filtering, practical tips
  </div>

  <h3>1. Merging & Joining Datasets</h3>
  <p>Merging datasets is essential when working with multiple data sources. R provides various types of joins: inner join keeps only matching rows, left join keeps all rows from the first dataset, right join keeps all rows from the second, and full join retains all rows from both datasets. Understanding join types prevents data loss or duplication.</p>
  <p><strong>Example:</strong> Combining customer info with purchase history to analyze spending patterns.</p>
  <pre><code>library(dplyr)

df1 <- data.frame(ID = 1:3, Name = c("A", "B", "C"))
df2 <- data.frame(ID = c(2,3,4), Score = c(90, 85, 95))

inner_join(df1, df2, by = "ID")
left_join(df1, df2, by = "ID")
full_join(df1, df2, by = "ID")</code></pre>

  <h3>2. dplyr Verbs</h3>
  <p>dplyr provides easy-to-use verbs for data manipulation: <code>filter()</code> selects rows, <code>select()</code> picks columns, <code>mutate()</code> creates new variables, and <code>arrange()</code> sorts data. These verbs make pipelines readable and efficient for large datasets.</p>
  <p><strong>Example:</strong> Filtering Iris dataset to include only Setosa species with Sepal.Length > 5, or creating a new Sepal ratio feature for analysis.</p>
  <pre><code># Filter
filter(iris, Species == "setosa" & Sepal.Length > 5)

# Select
select(iris, Sepal.Length, Petal.Length)

# Mutate
mutate(iris, Sepal.Ratio = Sepal.Length / Sepal.Width)

# Arrange
arrange(iris, desc(Sepal.Length))</code></pre>

  <h3>3. Grouping & Summarising</h3>
  <p>Grouping and summarising allows aggregation of data based on categories. <code>group_by()</code> sets the grouping variable, and <code>summarise()</code> computes statistics like mean, sum, or max for each group. This is essential for exploratory data analysis and reporting.</p>
  <p><strong>Example:</strong> Calculate the mean Sepal length and max Petal length for each Iris species to understand species-wise differences.</p>
  <pre><code>iris %>% 
  group_by(Species) %>% 
  summarise(Mean_Sepal = mean(Sepal.Length),
            Max_Petal = max(Petal.Length))</code></pre>

  <h3>4. Reshaping Data</h3>
  <p>Reshaping data converts between wide and long formats to suit analysis or visualization needs. <code>pivot_longer()</code> converts wide columns into key-value pairs, and <code>pivot_wider()</code> spreads long data into multiple columns. Proper reshaping simplifies aggregation, plotting, and modeling.</p>
  <p><strong>Example:</strong> Transforming Sepal measurements to long format allows plotting all Sepal variables in a single faceted chart.</p>
  <pre><code>library(tidyr)

# Wide to Long
iris_long <- pivot_longer(iris, cols = starts_with("Sepal"), names_to = "Part", values_to = "Measurement")

# Long to Wide
pivot_wider(iris_long, names_from = Part, values_from = Measurement)</code></pre>

  <h3>5. Advanced Filtering & Practical Tips</h3>
  <p>Advanced filtering combines multiple conditions using logical operators and helps focus on specific subsets. Always check for NA values before filtering, and use pipes (%>%) for clean, readable code. Documenting manipulations ensures reproducibility.</p>
  <p><strong>Example:</strong> Selecting Iris rows where Sepal.Length > 5 & Petal.Length < 2 while excluding missing values.</p>
  <pre><code>iris %>% 
  filter(Sepal.Length > 5 & Petal.Length < 2 & !is.na(Sepal.Length))</code></pre>

</body>
</html>
