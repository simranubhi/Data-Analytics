<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Week 2 Day 3 - Training Report</title>
  <style>
     body {
      font-family: Arial, sans-serif;
      background-color: #fdfdfd;
      color: #333;
      line-height: 1.6;
      max-width: 900px;
      margin: auto;
      padding: 40px 20px;
    }
    h1, h2, h3 {
      color: #2c3e50;
    }
    pre {
      background: #f4f4f4;
      padding: 10px;
      border-left: 4px solid #3498db;
      overflow-x: auto;
    }
    ul {
      margin-top: 0;
    }
  </style>
</head>
<body>

<h1>Week 2 (DAY-3)</h1>

<h3>Topics Covered:</h3>
<ul>
  <li>Grouping Data using <code>group_by()</code></li>
  <li>Summarizing Data using <code>summarise()</code></li>
  <li>Group-wise Analysis</li>
  <li>Wide vs Long Data Formats</li>
  <li>Data Reshaping using <code>pivot_longer()</code> and <code>pivot_wider()</code></li>
</ul>

<hr/>

<p>
Many real-world datasets require group-wise analysis and restructuring before meaningful insights
can be extracted. In R, the <b>dplyr</b> and <b>tidyr</b> packages provide powerful tools to group,
summarize, and reshape data efficiently.
</p>

<hr/>

<h2>1. Grouping and Summarizing Data</h2>
<p>
Grouping allows operations to be performed separately for each category in a dataset.
The <code>group_by()</code> function groups data, while <code>summarise()</code> computes
aggregate statistics for each group.
</p>

<pre>
library(dplyr)

group_by(df, Department) %>%
  summarise(
    AvgSalary = mean(Salary, na.rm = TRUE),
    Count = n()
  )
</pre>

<p><b>Concepts Covered:</b></p>
<ul>
  <li>Group-wise calculations</li>
  <li>Aggregate functions (mean, count)</li>
</ul>

<h2>2. Understanding Wide vs Long Data</h2>
<p>
Data can be structured in different formats depending on the task.
</p>
<ul>
  <li><b>Wide format:</b> Multiple columns represent repeated measurements</li>
  <li><b>Long format:</b> Key-value pairs represent measurements</li>
</ul>

<p>
Most statistical models and visualizations in R prefer long (tidy) data.
</p>

<hr/>

<h2>3. Data Reshaping using pivot_longer()</h2>
<p>
The <code>pivot_longer()</code> function converts wide-format data into a long, tidy format,
making it suitable for analysis and visualization.
</p>

<pre>
pivot_longer(
  data,
  cols = ...,
  names_to = "variable",
  values_to = "value"
)
</pre>

<h2>4. Data Reshaping using pivot_wider()</h2>
<p>
The <code>pivot_wider()</code> function converts long-format data back into wide format.
This is useful for reporting and exporting results.
</p>

<pre>
pivot_wider(
  data,
  names_from = variable,
  values_from = value
)
</pre>

<h2>5. Older Reshaping Functions</h2>
<p>
Older functions such as <code>melt()</code> and <code>spread()</code> are still encountered
in legacy code but have largely been replaced by tidyr functions.
</p>

<hr/>

<h2>CODE PRACTICE</h2>

<pre>
library(dplyr)
library(tidyr)

# Sample dataset
st_test1 <- data.frame(
  id = c(1, 2, 3),
  name = c("Alice", "Bob", "John"),
  test1 = c(95, 91, 85),
  test2 = c(98, 80, 87),
  test3 = c(92, 93, 90)
)

# Wide to Long
st_long <- pivot_longer(
  st_test1,
  cols = starts_with("test"),
  names_to = "test",
  values_to = "score"
)
print(st_long)

# Group-wise summary
group_by(st_long, test) %>%
  summarise(AverageScore = mean(score))

# Long to Wide
st_wide <- pivot_wider(
  st_long,
  names_from = test,
  values_from = score
)
print(st_wide)
</pre>

</body>
</html>
